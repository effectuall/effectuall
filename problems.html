<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" sizes="any" type="image/svg+xml" href="/icon.ico" />
    <title>Physics interactive simulations</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style2.css">
    <!-- meta tags example -->
    <meta name="keywords"
        content=" physics, 3D, interactive, simulation, webgl, threejs, effectual, learning, science, freelance, creative, mechanics, electicity, magnetism, thermodynamics, optics, quantum physics, pressure, kinetic theory of gases, Coulomb's law, Periodic Motion" />
    <meta name="author" content="sajith EP, effectuallearning@gmail.com" />
    <meta name="developer" content="" />
    <style>
        #threeDisplay {
            width: 100%;
            position: relative;
            margin-top: -5%;
            /* margin-left: 10%; */
            align-items: center;
            text-align: center;
        }

        #threeDisplay iframe {
            height: 650px;
            width: 95%;
            padding: 0px 10px;
        }

        #read {
            display: none;
            color: #00b3b3;
        }

        #answer {
            display: none;
        }

        #producttable {
            margin-top: 5%;
            padding: 5px 30px;
        }

        ol {
            list-style-type: upper-alpha;
        }

        li {
            font-size: 1em;
            font-weight: 500;
        }


        #hint {
            float: right;
            border-radius: 8px;
            background-color: aqua;
            padding: 0.6em 1.2em;
            text-transform: uppercase;
            font-size: .8em;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: border-color 0.25s;
        }
    </style>

</head>

<body>

    <div id="panel">
        <div id="header">
            <h1><a href="index.html" id="logo"><img src="/effectuall.svg" width="100px" alt="Effectual logo"></a></h1>

            <div id="sections">
                <span class="selected">Problems</span>
                <a href="sims.html">Simulations</a>
            </div>

            <div id="expandButton"></div>
        </div>


        <div id="panelScrim"></div>

        <div id="contentWrapper">

            <div id="inputWrapper">
                <input placeholder="" type="text" id="filterInput" autocorrect="off" autocapitalize="off"
                    spellcheck="false" />
                <div id="exitSearchButton"></div>
            </div>
            <div id="home">
                <a href="index.html">
                    <img src="/ic_home_black_24dp.svg" width="25" height="25" />
                </a>
            </div>

            <div id="content">

                <!-- <img id="previewsToggler" src="/thumbnails.svg" width="20" height="20" /> -->
            </div>

        </div>


    </div>

    <div id="viewer">
        <div id="problemDisplay" style="padding: 20px 20px;">



            <article>
                <h1>
                    <div id="caption">Select problems from a topic, in the left panel, to visualise here.</div>
                </h1>
                <div id="problem"> Two charged spheres 20 cm apart attract each other with a force of 22.50 N.
                    What force results from each of the following changes, considered separately?</div>
                <div id="choice">

                    <ol>
                        <li>
                            Both charges are doubled and the distance remains the same.
                        </li>

                        <li>
                            The separation is increased to 30 cm.
                        </li>

                        <li>
                            if one has twice the charge as the other
                        </li>
                        <li>
                            What is the magnitude of the force, a 1.5 &times; 10<sup>-6</sup> C charge exerts on a 3.2
                            &times; 10<sup>-5</sup> C charge located 1.5 m away?
                        </li>
                    </ol>
                </div>
                <div id="view"> <button id="hint" style="display: none;"><a>Hint</a></button></div>
                <div id="answer"></div>
                <div id="select">

                </div>

                <div>
                    <p id='read' style="display: block;">The "Force" between the two charges can be visualized by
                        adjusting the parameters in the 3D environment below. The magnitude of the force of repulsion
                        for the last problem, F = 0.19 N</p>
                </div>


            </article>


        </div>
        <div id="threeDisplay">
            <p></p>
            <iframe src="https://effectuall.github.io/Simulations/Electricity_Coulomb's_Law.html"
                id="viewFrame"></iframe>
        </div>


    </div>

    <script>
        function myIndex() {
            let X = document.getElementById("logo");
            window.location.replace('/');
        }

        function myFunction() {
            let x = document.getElementById("icon");
            console.log(x.className)
            if (x.className === "navbar") {
                x.className += " sidepanel";
            } else {
                x.className = "navbar";
            }
        }

    </script>

    <script type="module">
        import ques from "./eg.json" assert { type: 'json' };
        import tags from "./tags.json" assert { type: 'json' };

        const content = document.getElementById('content');
        const expandButton = document.getElementById('expandButton');
        const panelScrim = document.getElementById('panelScrim');
        const exitSearchButton = document.getElementById('exitSearchButton');
        const container = document.createElement('div');
        let web = "https://effectuall.github.io/Simulations/"

        let PROBLEMS = [], TOPICS = []
        init();

        async function init() {

            content.appendChild(container);
            content.classList.toggle('minimal');


            const files = ques;

            for (const key in files) {
                let X = files[key];

                for (const P in X) {
                    TOPICS.push(P)
                    PROBLEMS.push(X[P])
                }
            }
            const header = document.createElement('h2');
            header.textContent = 'Problems from';
            container.appendChild(header);

            for (let i = 0; i < TOPICS.length; i++) {
                // console.log(TOPICS, PROBLEMS)
                const section = PROBLEMS[i];
                const template = `
                <div class="card">
					<a href="#${TOPICS[i]}" id="${TOPICS[i]}">
                        <div class="cover">
							
						</div>
						<div class="title">${TOPICS[i]}</div>
						
					</a>
				</div>			  
			    `;
                const div = document.createElement('div');
                div.innerHTML = template.trim();
                div.innerHTML = TOPICS[i]
                const L = div.firstChild;
                container.appendChild(L);
                for (let i = 0; i < section.length; i++) {
                    let topic = section[i]['Topic'], M = section[i]['Main'];
                    let problem = section[i]['Problem'];
                    console.log(i, section, topic, problem)
                    let Q = problem[0]['Question'], C = problem[0]['Choice'], A = problem[0]['Answer'], R = problem[0]['Remark'];
                    createProblem(Q, A, R, C, M, topic)
                }

            }



            if (viewer.src === '') {
                // viewer.srcdoc = document.getElementById('productrow').innerHTML;
                viewer.srcdoc = document.getElementById('PlaceholderHTML').innerHTML;
                viewer.style.display = 'unset';

            }

            expandButton.addEventListener('click', function (event) {

                event.preventDefault();
                panel.classList.toggle('open');

            });

            panelScrim.onclick = function (event) {

                event.preventDefault();
                panel.classList.toggle('open');
            };


            exitSearchButton.onclick = function () {

                filterInput.value = '';
                updateFilter(files, tags);
                panel.classList.remove('searchFocused');
                
                // content.classList.toggle('minimal');

            };
        }

        function createProblem(Q, A, R, C, M, topic) {
            let testQues = `
                <article>
                    
                    <div id=Problem> <a> ${Q}</a></div>  
                </article>
                `
            let testChoice = `
                    <h1 id='answer'>
                       Answer:-${A}
                    </h1>
                `
            let testHint = `
                <button id="hint"><a>Hint</a></button>
                <div>
                    <p id='read'>${R}</p>
                    </div>        
                    `
            let st = document.createElement("ol");

            let temp;
            for (let i = 0; i < C.length; i++) {
                let optn = C[i];
                temp = `
						<li id="${i}">
							${optn}
						</li>	
				    `
                st.innerHTML += temp.trim();
            }

            const choiceList = document.createElement('div');
            choiceList.appendChild(st)
            const template = `
				<div class="card">
					<a href="#${M}_${topic}" id="${M}_${topic}">
						
                        <div class="cover">
							
						</div>
						<div class="title">${getName(topic)}</div>
					</a>
				</div>
			`;
            const div = document.createElement('div');
            // div.className = "dropdown-content"
            div.innerHTML = template.trim();
            const link = div.firstChild;
            container.appendChild(link);
            if (M === "Electricity_Coulomb's_Law" && topic === "Problem_1") {
                console.log('1q')
                link.classList.add('selected');
            }
            link.addEventListener('click', function (event) {
                let X = document.getElementById('choice');
                X.innerHTML = "";
                let Y = document.getElementById('read');
                Y.innerHTML = "";
                const x = document.querySelector("iframe");
                x.src = '';
                if (event.button !== 0 || event.ctrlKey || event.altKey || event.metaKey) return;

                inputAction(link, M, testQues, choiceList, testChoice, testHint, topic)
            });

        }

        function inputAction(link, topic, ques, list, choice, hint, sect) {
            link.classList.add('selected');
            // document.getElementById('caption').innerHTML = getName(topic);
            document.getElementById('problem').innerHTML = ques;
            document.getElementById('choice').appendChild(list)
            document.getElementById('select').innerHTML = choice;

            document.getElementById('view').innerHTML = hint;

            document.getElementById('view').addEventListener('click', function (event) {
                console.log(topic)
                document.getElementById('viewFrame').src = web + topic
                document.getElementById('read').style.display = 'block'
                document.getElementById('answer').style.display = 'block'
                document.getElementById('hint').style.display = 'none'

            })
        }

        function getName(file) {

            const name = file.split('_');
            return name.join('  ');

        }



    </script>
    <!-- <template id="productrow">
        <article>
            <p>Two charged spheres 20 cm apart attract each other with a force of 22.50 N.
                What
                force results from each of the following changes, considered separately?</p>
            <p>
        </article>
        <tr>
          <td class="record"></td>
          <td>aaa</td>
        </tr>
      </template> -->
    <!-- <template id="PlaceholderHTML">
        <!DOCTYPE html>
        <html lang="en">

        <head>
            <meta charset="utf-8">
            <title>Problems in Physics</title>
            <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

            <style>
                html,
                body {
                    width: 100%;
                    height: 100%;
                    color: #e0dcdc;
                }

                article {
                    position: absolute;
                    top: 0px;
                    right: 0px;
                    padding: 0 10px 0 10px;
                    width: 100%;
                    box-sizing: border-box;
                    text-align: left;
                }
            </style>
        </head>

        <body>
            <article id="enterData">


                <div>
                    <div>
                        <p>Two charged spheres 20 cm apart attract each other with a force of 22.50 N.
                            What
                            force results from each of the following changes, considered separately?</p>
                        <p>
                        <ol type="a">
                            <li>
                                Both charges are doubled and the distance remains the same.
                            </li>

                            <li>
                                The separation is increased to 30 cm.
                            </li>

                            <li>
                                if one has twice the charge as the other
                            </li>

                        </ol>
                        </p>
                    </div>
                    <iframe style=" position: static;   width:75%; height:80vh; padding-right: 25px; float: none;"
                        id="viewFrame" name="viewFrame"
                        src="https://effectuall.github.io/Simulations/Electricity_Coulomb's_Law.html"></iframe>


                          
                    <div>
                        <h2>Questions:</h2>
                        <p>
                        <ol type="i">
                            <li>
                                What is the magnitude of the force, a 1.5 &times; 10<sup>-6</sup> C charge exerts on a
                                3.2 &times; 10<sup>-5</sup> C charge
                                located 1.5 m away?

                            </li>
                            <h2>Solution: The magnitude of the force, F = 0.19 N </h2>

                            <p>Charge, q<sub>1</sub> = 1.5 &times; 10<sup>-6</sup> C <br>
                                Charge, q<sub>2</sub> = 3.2 &times; 10<sup>-5</sup> C = 32 &times; 10<sup>-6</sup> C
                                <br>
                                Distance between q<sub>1</sub> and q<sub>2</sub>, r = 1.5 m = 150 &times;
                                10<sup>-2</sup> m<br>
                            </p>
                            <p> If these values are given as input in the 3D console, the magnitude of the force of
                                repulsion, F = 0.19 N </p>
                            <li>
                                Two equal charges of magnitude 11 &times; 10<sup>-7</sup> C experience an electrostatic
                                force of
                                10 &times; 10<sup>-2</sup> N. How far apart are the centers of the two charges?
                            </li>
                            <h2>Solution: The distance between q<sub>1</sub> and q<sub>2</sub>, r = 33 &times;
                                10<sup>-2</sup> m</h2>

                            <p>Charge, q<sub>1</sub> = 11 &times; 10<sup>-7</sup> C = 1.1 &times; 10<sup>-6</sup> C <br>
                                Charge, q<sub>2</sub> = 11 &times; 10<sup>-7</sup> C = 1.1 &times; 10<sup>-6</sup> C
                                <br>
                                The magnitude of the force, F = 0.1 N <br>
                                Then, distance between q<sub>1</sub> and q<sub>2</sub>, r = 33 &times; 10<sup>-2</sup>
                                m<br>
                            </p>
                            <p>  If these values are given as input in the 3D console, the magnitude of the force of repulsion, F = 0.19 N </p>
                        <li>
                            The force of electrostatic repulsion between two small positively charged objects, A and B, is
                            3.6 &times; 10<sup>-5</sup> N when AB = 0.12 m. What is the force of repulsion if AB is increased to
                            <br>a) 0.24 m b) 0.36 m
                            
                        </li>
                        </ol>

                        </p>

                    </div>

                </div>
            </article>
            
        </body>

        </html>
    </template> -->

</body>

</html>
